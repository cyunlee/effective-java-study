## item 72

### 표준 예외를 사용하라

---

### 🙋 왜 표준 예외를 사용해야 하나요?

숙련된 프로그래머는 그렇지 못한 프로그래머보다 더 많은 코드를 재사용합니다.
예외도 마찬가지로 재사용하는 것이 좋으며 자바 라이브러리는 대부분 API에서 쓰기 충분한 수의 예외를 제공합니다.

1) 다른 사람이 익히고 사용하기 쉬워집니다.
    - 많은 프로그래머에게 이미 익숙해진 규약을 그대로 따르기 때문입니다.
2) 읽기 쉬워집니다.
    - API를 사용한 프로그램도 낯선 예외를 사용하지 않기에 읽기 쉬우집니다.
3) 예외 클래스 수가 적을수록 메모리 사용량 ↓, 클래스 적재하는 시간 ↓

---

### 🙋 어떤 표준 예외가 있나요?

책에서 나온 예외는 다음과 같이 정리할 수 있습니다. 항상 표준 예외를 재사용할 때는 API 문서를 참고해 예외가 어떤 상황에서 던져지는지, 던져지는 맥락과 사용하려는 맥락이 부합한지 꼭 확인해야 합니다.

| 예외 클래스                            | 주요 쓰임                                                           |
|-----------------------------------|-----------------------------------------------------------------|
| `IllegalArgumentException`        | 허용하지 않는 값이 인수로 건네졌을 때                                           |
| `IllegalStateException`           | 객체 상태가 호출된 메서드를 수행하기에 적절하지 않을 때                                 |
| `NullPointerException`            | `null`을 허용하지 않는 메서드에서 `null`이 전달될 경우                            |
| `IndexOutOfBoundsException`       | 인덱스가 범위를 벗어날 때                                                  |
| `ConcurrentModificationException` | 허용하지 않는 동시 수정이 발견되었을 때                                          |
| `UnsupportedOperationException`   | 메서드가 지원되지 않는 경우 (예: 원소를 넣을 수만 있는 List 구현체에 누군가 `remove` 호출한 경우) |
| `ArithmeticException`             | 산술 연산 오류 발생 (예: 정수를 0으로 나누기)                                    |
| `NumberFormatException`           | 문자열을 숫자로 변환할 때 형식이 잘못된 경우 사용                                    |

만약 더 많은 정보를 담은 예외는 표준 예외를 확장해도 좋습니다.
단, 예외는 직렬화할 수 있다는 사실을 기억하고, 직렬화엔 많은 부담이 따르니, 나만의 예외를 새로 만드는 것은 추천하지 않습니다.

---


### 🙌 `Exception`, `RuntimeException`, `Throwable`, `Error` 는 직접 재사용하지 마라

이 클래스들은 추상 클래스라고 생각하는 것이 좋습니다. 
다른 예외의 상위 클래스이기에 여러 성격의 예외들을 포괄하는 클래스이기에 `안정적으로 테스트할 수 없습니다.`

따라서 위의 예외는 재사용하지 않아야 합니다.

---


### 🙋‍♀️ 주요 쓰임은 상호 배타적이지 않을 때가 있는데 어떻게 선택해야 하나요?

#### 예시 상황) 카드 덱을 표현하는 객체가 있고, 인수로 건넨 수만큼의 카드를 뽑아 나눠주는 메서드 제공
#### 예외 경우) 카드 수보다 큰 값을 건네는 경우
    1) 인수의 값이 너무 크다고 본다 : IllegalArgumentException
    2) 카드 수가 너무 적다고 본다: IllegalStateException
#### 일반적인 규칙) 
    1) 인수의 값과 관계 없이 어차피 실패했을 거다:IllegalStateException
    2) 1번이 아니다: IllegalArgumentException
